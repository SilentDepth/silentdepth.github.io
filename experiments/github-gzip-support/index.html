<!doctype html>
<script src="https://cdn.jsdelivr.net/npm/pako@1.0.6/dist/pako_inflate.min.js"></script>

<h1>Will Pre-Gzipped File Functions Normally?</h1>
<h2 id="result">Checking...</h2>
<pre>Using <a href="http://nodeca.github.io/pako/">Pako</a> as decompressor</pre>

<script>
  fetch('./data.json.gz').then(s => s.arrayBuffer()).then(buffer => {
    const json = JSON.parse(pako.ungzip(buffer, {to: 'string'}))
    document.getElementById('result').innerText = `Yes! (Got update: ${new Date(json.time)})`
  }).catch(reason => {
    document.getElementById('result').innerText = `No! (Got error: ${reason})`
  })
</script>